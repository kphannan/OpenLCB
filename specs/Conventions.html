<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB Specification Conventions</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20101007;22391800">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<STYLE TYPE="text/css">
	<!--
		H3.ctl { font-family: "Lucida Sans" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1><FONT COLOR="#000000"><IMG SRC="../web/logo-ajs-dph.png" NAME="OpenLCB" ALIGN=RIGHT WIDTH=337 HEIGHT=135 BORDER=2></FONT>OpenLCB
OpenLCB Specification Conventions</H1>
<P>OpenLCB is not a formal standards-making body, but we are
interested in making it clear what's required and not required for
interoperation between OpenLCB nodes. Therefore, we are creating a
series documents that are intended to form a stable basis for OpenLCB
implementors.</P>
<P>At the same time, we're interested in forwarding the NMRA's effort
to create a common standard, so we're proposing documents to them and
cooperating in those discussions. More information on that effort can
be found on a <A HREF="../srpdrafts/index.html">separate page</A>.</P>
<P>We're creating three general types of documents:</P>
<DL>
	<DT><I>Specifications </I>
	</DT><DD>
	Specifications are agreed to be normative, to the extent that
	anything this bunch of happy campers does can be proscriptive. A
	statements should be included in a specification when it's “clearly
	necessary” and “clearly correct”. 
	</DD><DT>
	<I>Explanations </I>
	</DT><DD>
	These are agreed-to documents that explain a specification and
	provide stable information useful to implementors. Statements should
	be included in a specification when they are “likely to be useful”
	and “not clearly wrong”; this is a lower standard than the one
	for specifications. Opinions and less-desirable options are OK when
	clearly labelled as such. 
	</DD><DT>
	<I>Development documents </I>
	</DT><DD STYLE="margin-bottom: 0.5cm">
	These are things that are in significant flux, but still useful to
	developers and implementers. 
	</DD></DL>
<P>
The first two can also appear in “draft” or “adopted” form.</P>
<P>Generally, an implementer should start with the relevant adopted
specifications and be sure to understand what's really required for
the implementation to work well. Then, the implementor should move on
to the adopted explanations to make sure the background is
understood, learn about issues to be considered and decisions to be
made, and get information about possible approaches. Finally, the
implementer may want to spend time on the draft and development
documents to get an idea of what the future might bring.</P>
<P>The work to date is available <A HREF="index.html/">here</A>.</P>
<H3 CLASS="western">Implementation Points:</H3>
<P>We write stuff in bog-standard Open Office .odf format by
convention. The <A HREF="drafts/Template.odt">drafts/Template.odt</A>
file is a starting point. Leave change tracking on, because that
helps handle collisions between two people who might be editing at
overlapping times. Commit back to SVN early and often to avoid
collisions.</P>
<P>(We have considered DocBook format in the past, may still go that
way, but don't want to invest in the infrastructure now)</P>
<P>To make direct access easier, the file naming convention is
(wire)(topic)(type).html, in Pascal case (leading-capital camel
case). For example, “CanMessageTransportSpec.html” vs
“CanMessageTransportExpl.html” vs “TcpMessageTransportSpec.html”.
Use “Gen” for the general case, true for any wire protocol.</P>
<P>“Shall” should get used in specifications. “Must” should
be avoided there. “Must” is OK in a explanation, which are more
information and non-normative: “Designers must remember that wires
get hot...” Specifications can describe options using “Devices
may, but are not required to, ...”, but they call also just be
silent about options.</P>
<P STYLE="margin-bottom: 0cm">The various parts of specifications
should be identified as normative or informative, because there are
always non-normative parts of specifications. Try to keep the
informative parts in the explanation document, but when they need to
be present so the specification can be read by itself, be sure to
label them clearly.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Generally, specifications should use
short paragraphs focused on a single point. Think of the paragraphs
as unit tests, which should be individually satisfied (or not).</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Make the status of “reserved”
things clear: “Must be set to 1 on creation and not checked upon
reception” and “Must be set to 1 on creation, and must be
received as 1 to be considered valid” are different. One works for
a bit that's reserved for some orthogonal future expansion; the other
is needed to define an exclusive (hence non-orthogonal) future
option.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><!-- ........................................................................ ->
<P STYLE="margin-bottom: 0cm"><!-- The following used to be in the document, and perhaps can
     go back, but it's not true now. Commented out until that
     is sorted.
<H2>Structure</H2>
<P STYLE="margin-bottom: 0cm">The primary documents in this directory
are in XML DocBook format under SVN control. Each time these are
updated, the HTML and PDF versions linked above are automatically
created from the primary documents. The HTML and PDF files are not
kept in SVN.</P>
--><BR>
</P>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>