<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB CAN Physical Layer Explanation</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20100921;9505200">
	<STYLE TYPE="text/css">
	<!--
		H2.ctl { font-family: "Lucida Sans" }
		H3.ctl { font-family: "Lucida Sans" }
		H4.ctl { font-family: "Lucida Sans" }
		H5.ctl { font-family: "Lucida Sans" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1><FONT COLOR="#000000"><IMG SRC="../web/logo-ajs-dph.png" NAME="OpenLCB" ALIGN=RIGHT WIDTH=337 HEIGHT=135 BORDER=2></FONT>OpenLCB
CAN Physical Layer Explanation</H1>
<H2 CLASS="western">Introduction</H2>
<P><FONT SIZE=3>This explanatory note contains informative discussion
and background for the corresponding “OpenLCB CAN Physical Layer
Specification”. This explanation is not normative in any way.</FONT></P>
<H2 CLASS="western">Annotations to the Specification</H2>
<P><FONT SIZE=3>This section provides background information on
corresponding sections of the Specification document. It's expected
that <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
two documents will be read together.</FONT></P>
<H3 CLASS="western">Intended Use</H3>
<P><FONT SIZE=3>The third paragraph, discussing networks that
“(u)sers can expect to be able to form”, is based on CAN
documentation, component-vendor specifications and application notes,
and industrial experience with CAN. The intent is to set expectations
that can be met essentially all of the time. The Specification does
not restrict users from building, or attempting to build, networks
that exceed these expectations. Often, OpenLCB layouts that somewhat
exceed these expectations will be able to operate reliably. </FONT>
</P>
<P><FONT SIZE=3>The expected network sizes in section 2 of the
Specification are based on UTP/RJ45 wiring of equipment that conforms
to the Specification. Wiring and/or equipment that exceeds the
Standard may result in being able to reliably build larger networks;
alternate wiring or equipment may work well on smaller networks, but
may not be able to reach the network sizes listed in that section.</FONT></P>
<P><FONT SIZE=3>The Specification discusses single CAN segments, and
is silent on interconnecting multiple segments. For more discussion
of options for interconnection, see the “Repeaters, Bridges and
Gateways” section below.</FONT></P>
<H3 CLASS="western">References and Context</H3>
<P><FONT SIZE=3>Product conformance testing is simplified when it can
be done by referring to vendor documentation, rather than requiring
specific tests of parameters. The Specification therefore refers to
other existing standards, where possible, instead of repeating the
information.</FONT></P>
<H3 CLASS="western">Physical Interconnection</H3>
<P><FONT SIZE=3>The Specification envisions two basic kinds of nodes:
A board with 2 connectors and a box with a pig-tail cable, e.g. a
handheld throttle. At the same time, the Specification should not
rule out other implementations such as a board with two connectors
and three pig-tails for attaching throttles, hence the somewhat
complex wording in this section.</FONT></P>
<P><FONT SIZE=3>The Specification permits providing a terminal block
for an alternate wiring of the CAN bus, for example to reduce the
cost of small networks, so long as an RJ45 connector or connectors is
provided for Specification-compliant wiring. For example, a
manufacturer using a terminal block or blocks would provide an
adapter board with the two RJ45s which will fit into the terminal
block to make a Specification-conforming product. This adapter board
may have provision for a termination resistors circuit. For
mechanical simplicity, a pluggable terminal block could be used to
connect the adapter board. As a by-product, if a pluggable RJ45
adapter were used, it would allow the module to be removed without
any disturbance to the CAN segment and no need to link the two
floating ends of the cable.</FONT></P>
<P><FONT SIZE=3>The signal names refer back to the signal definitions
in the CAN specifications. UTP is unshielded cable, so the CAN_SHIELD
conductor is being used as a second conductor for the CAN ground
reference, CAN_GND.</FONT></P>
<P><FONT SIZE=3>The conductor assignments are based on industry
practice for RJ45 connectors on CAN networks, c.f. Recommendation CiA
303 (2009) of the CAN in Automation e.V. group. </FONT>
</P>
<P><FONT SIZE=3>The assignments to particular wire colors are for
information only. These are the wire colors that users will encounter
in the two popular ways of wiring commercial cables. When building a
product using commercial cable, using one of these two color
assignments will reduce confusion, but most OpenLCB users will never
need to refer to the wire colors in their cables.</FONT></P>
<P><FONT SIZE=3>The Specification does not require that all eight
conductors be present in cables, but only the four that are minimally
necessary for CAN communications. The reserved and power conductors
are optional. This is because some low-cost “Ethernet” cables
have only those required pairs present. Model railroaders who want to
minimize cost, do not need distributed power, and are willing to
forego future use of <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
reserved conductors can use these four-conductor “Ethernet”
cables between nodes.</FONT></P>
<P><FONT SIZE=3>The discussion of connecting in parallel is to make
sure that all 8 wires go through a board, whether it's got
connectors, pig-tail cables or a combination of the two, so long as
it's got more than one connection to other nodes.</FONT></P>
<P><FONT SIZE=3><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">The</SPAN></FONT></FONT>
requirement to have all eight conductors present in nodes is so
people can add power later, or an updated Specification can define
the reserved conductors later, and still use them. The 1A requirement
on interconnects is to make sure they're at least as robust as the
connectors and cable.</FONT></P>
<P><FONT SIZE=3>For information on sizing circuit board traces to
carry the required interconnection current, please see “IPC-2152 —
Standard for Determining Current-carrying Capacity in Printed Board
Design, 2009.”</FONT></P>
<P><FONT SIZE=3>All 8 wires don't have to go through the board if
there's only one connection, e.g. a throttle with a single jack or
pig-tail cable with plug. In that case, only two pairs are required.</FONT></P>
<P><FONT SIZE=3>If a conforming device is providing power and has
e.g. two jacks, the device can either connect them together and
provide a max of 0.5A to both combined, or separately power them up
to 0.5A each. This is the only case where a conductor doesn't have to
pass through the board as a continuous electrical circuit. Note that
this means that the device has to provide power, however; if
providing power is an option, not always present, the device should
connect conductor 8 across the board to ensure that downstream nodes
aren't cut off from power when it's not provided by the device.</FONT></P>
<P><FONT SIZE=3>Note that <SPAN LANG="en-US">the</SPAN> Specification
permits, but does not require, connecting the CAN signal ground on
conductors 3 &amp; 6 with the PWR_NEG power distribution ground on
conductor 7. Power-supplying and power-consuming boards can connect
PWR_NEG and the 3/6 grounds to simplify their internal structure.
Designers should carefully consider noise immunity, the possibility
of ground loops, and voltage offsets when doing this. A straight
copper connection is within the letter of the requirement. An
alternative to connecting them directly is a filtered connection,
e.g. a 10 ohm resistor and a 0.1uF capacitor in parallel.</FONT></P>
<P><FONT SIZE=3>Nodes that need a connection between conductor 7 and
conductors 3 &amp; 6 for proper operation are required to connect
those conductors to avoid situations where <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
necessary connection is made on some other node, because that results
in hard-to-diagnose bugs as <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
other node is connected and disconnected. It's also meant to avoid
situations where the remote ground connection results in large ground
currents and/or reduced noise margin.</FONT></P>
<P><FONT SIZE=3>The 100V requirement on the reserved conductors is
there to make sure that when a use is defined for them later, it
doesn't blow up existing installations. The goal is to have all
existing installations be able to move to newly-defined uses without
having to retrofit cables nor non-involved nodes.</FONT></P>
<P><FONT SIZE=3>To use the reserved conductors for experimental
purposes, consider using jumpers (fixed or movable) for making
connections to the conductors and/or splitting the reserved
conductors between connectors so that the user can restore normal
usage later, should some other use be defined for the reserved
conductors. </FONT>
</P>
<P><FONT SIZE=3>One use of the reserved conductors would be to carry
a DCC signal for synchronization or other purposes. This could be as
an NMRA RP 9.1.2 signal or some other format. Note that the DCC
signal has 1-bits that are 58 (nominal, min 55, max 61) microseconds
long. The DCC signal has a 7th harmonic 8.28 (nominal, min 7.86, max
8.71) microseconds long, close to the CAN bit time of 8.00
microseconds. A true square wave will have a 7th harmonic amplitude
equal to 4/(7pi) the amplitude of the square wave. For a DCC power
signal this may be as large as 5 volts. The DCC track signal (NMRA S
9.1) is specified to have a slew rate at the origin of
2.5V/microsecond or larger. When putting DCC on the OpenLCB cable,
the designer may want to consider ensuring balanced transmission, or
reducing the amplitude or slew-rate of the DCC replica signal to
reduce noise coupling into the CAN signal. (NMRA S 9.1 requires
decoders to be largely immune to noise above 100kHz, which includes
the CAN signal).</FONT></P>
<P><FONT SIZE=3>The 27V value in the no-damage requirement for the
power connection comes from the S9.1 limitation on track voltage. In
the unlikely case that an OpenLCB RJ45 connector is plugged into a
telephone system, a ringing telephone line can provide as much as 100
volts.</FONT></P>
<P><FONT SIZE=3>Note that the ISO 11898-2 CAN specification for
maximum rating of CAN drivers is -3.0, +16.0 or +32.0 volts. Some CAN
transceiver parts have higher maximum input voltage ratings.
Implementors should check the specifications of their selected CAN
transceivers, and consider whether additional protection against
over-voltage damage might be worthwhile if the maximum rating of the
component is less than the maximum DCC track voltage.</FONT></P>
<H3 CLASS="western">Data Transport</H3>
<P><FONT SIZE=3>A reduced slew rate is preferred to reduce the effect
of stubs on </FONT><FONT SIZE=3><SPAN LANG="en-US">the</SPAN></FONT><FONT SIZE=3>
network (c.f. the calculation in section 4.8 of TI SLLA 270
<A HREF="http://focus.ti.com/lit/an/slla270/slla270.pdf">http://focus.ti.com/lit/an/slla270/slla270.pdf</A>)
It's expected that model railroad networks will eventually use stubs
to e.g. connect to handheld devices, so it's </FONT><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN LANG="en-US">important</SPAN></FONT></FONT></FONT><FONT SIZE=3>
to build support for a reasonable number of stubs into </FONT><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN LANG="en-US">the</SPAN></FONT></FONT></FONT><FONT SIZE=3>
network specification from the start. Note that many off-the-shelf
CAN transceiver parts have slew rates greater than 10V/microsecond by
default. The recommended value for the slew rate is 4V/microsecond.
The 3.5V/microsecond lower limit is specified to allow some
manufacturing margin below the 4V/microsecond recommendation.</FONT></P>
<P><FONT SIZE=3>The Specification only requires that termination meet
the CAN requirements, which are limited to the differential total
resistance of the terminators. Industry uses some improved
termination practices which are discussed in the “Bus Termination”
section below.</FONT></P>
<P><FONT SIZE=3>The Specification is silent on the use of specific
CAN frame formats or features.</FONT></P>
<H3 CLASS="western">Supply of Power</H3>
<P><FONT SIZE=3>The power supply section is meant to define a 12V
nominal system with wide margins on production and consumption of
power over the UTP cable. The Specification is written to allow nodes
to use this power in a range of ways, including having local power
regulation ranging from simple analog regulators through more
advanced supplies that increase current and/or voltage. 12V was
chosen to reduce heat loads when using the simplest regulators. The
current limit was required by use of one conductor in UTP wiring.</FONT></P>
<P><FONT SIZE=3>Power can be injected into the cable by simple
“mid-span injector” devices, essentially just two RJ45 connectors
and a 2.1mm jack for a wall-wart. It is not required that power comes
from a full node implementation.</FONT></P>
<P><FONT SIZE=3>The power provisions are for low-power uses that can
be conveniently handled over short lengths of cable. Boards are
welcome to have other connectors for power. These other connectors
can be anything not otherwise forbidden by some other standard,
including terminal blocks, 2.1mm jacks, Anderson PowerPole
connectors, or whatever else is considered useful for the specific
market.</FONT></P>
<P><FONT SIZE=3>The wiring system is likely to result in
power-supplying nodes being connected to each other. This is covered
by the “shall withstand” voltage requirement: power supply boards
must be able to be connected to each other, even if their output
voltages are not exactly the same. One way to implement this is an
isolating diode on the PWR_POS output. The closer the supply outputs
are to <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
12V nominal value, the better this will work.</FONT></P>
<H3 CLASS="western">Consumption of Power</H3>
<P><FONT SIZE=3>For their thermal calculations, node designers should
assume that power is supplied at 15V.</FONT></P>
<P><FONT SIZE=3>For their power calculations, node designers should
assume that power is supplied at 7.5V.</FONT></P>
<H2 CLASS="western">Design Issues</H2>
<P><FONT SIZE=3>This section contains discussion of issues that a
designer may wish to consider when designing an OpenLCB product.
Nothing in this section is normative.</FONT></P>
<H3 CLASS="western">Bus Termination</H3>
<P><FONT SIZE=3>The CAN specification (ISO11898-2 section 7.1 and
section 7.5.2) specifies the use of a bus termination resistor at
each end of the bus of 120 (nominal; minimum 100, maximum 130) ohms
and rated for 220mW or more. Several alternate termination schemes
have been proposed in the literature, and these alternatives are
discussed below.    </FONT>
</P>
<H4 CLASS="western">Termination Circuits</H4>
<H5 CLASS="western">Passive single resistor</H5>
<P><FONT SIZE=3>A single 120<FONT FACE="Times New Roman, serif">±10</FONT>
ohm resistor of ¼ watt or more capacity can connected between CAN-H
and CAN-L. This approach has the advantage of simplicity. </FONT>
</P>
<H5 CLASS="western">Passive split resistors bypassed to ground</H5>
<P><FONT SIZE=3>This consists of the CAN-L and CAN-H lines being
connected by two 60 ohm resistors in series, with their
common connected via a capacitor to ground. This provides a bypass
to ground for common mode noise. The tolerance on the individual
resistor values is significantly tighter than on their total
resistance. Several references recommend 1% tolerance resistors to
reduce coupling of the differential CAN signal into common mode noise
(<A HREF="http://focus.ti.com/lit/an/slla270/slla270.pdf">http://focus.ti.com/lit/an/slla270/slla270.pdf</A>)
(<A HREF="http://focus.ti.com.cn/cn/lit/an/sloa101a/sloa101a.pdf">http://focus.ti.com.cn/cn/lit/an/sloa101a/sloa101a.pdf</A>).
Selecting matched pairs of resistors with looser nominal tolerance
might be another solution.</FONT></P>
<H5 CLASS="western">Biased split termination</H5>
<P><FONT SIZE=3>As in the previous sub-section, but the common of the
resistors is also tied to a fixed voltage. This can be to nominal
2.5V via a voltage divider
(<A HREF="http://ww1.microchip.com/downloads/en/AppNotes/00228a.pdf">http://ww1.microchip.com/downloads/en/AppNotes/00228a.pdf</A>),
or by using a voltage reference
(<A HREF="http://focus.ti.com.cn/cn/lit/an/sloa101a/sloa101a.pdf">http://focus.ti.com.cn/cn/lit/an/sloa101a/sloa101a.pdf</A>)
(<A HREF="http://www.nxp.com/documents/application_note/AN10211.pdf">http://www.nxp.com/documents/application_note/AN10211.pdf</A>).
If there is a significant offset of ground between two nodes, then
this offset will be transmitted to the CAN lines with consequent
degradation of common-mode rejection. </FONT>
</P>
<H5 CLASS="western">Active termination</H5>
<P><FONT SIZE=3>This termination is accomplished by using active
elements, such as transistors or op-amps, to  actively drive the
bus to its proper state. Because of the recessive component of the
ISO 11898-2 CAN signal, this form of termination is not appropriate.</FONT></P>
<H5 CLASS="western">Distributed termination</H5>
<P><FONT SIZE=3>This technique requires a fixed number of
custom-impedance nodes, and is therefore not suitable for model
railroad applications that are based on user-specific ad-hoc networks
made from standard components.</FONT></P>
<H4 CLASS="western">Terminator Placement</H4>
<P><FONT SIZE=3>Termination can be supplied as an on-board option, or
as a terminator housed within an RJ45 plug, or as a separate
terminator device, depending on the preferences of the manufacturer
and users. </FONT>
</P>
<P><FONT SIZE=3>Using plug-resident terminators would seem to provide
the maximum flexibility, but it may be difficult to built a split
terminator into a RJ45 plug.</FONT></P>
<P><FONT SIZE=3>If on-board terminators are provided, the
Specification requires it be possible to enable or disable them
depending on where the node is installed on <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
CAN segment. Termination should only occur at the two distant ends of
<SPAN LANG="en-US">the</SPAN> bus. Termination in the middle of a
significant-length CAN bus is very disruptive because it causes
reflections. The one downside to on-board termination is that it
makes it much easier to have multiple terminators (customers think
more must be good, and mistakenly turn them all on). It's required
that nodes be shipped with on-board terminators disabled to reduce
the chance that a termination load will be attached in the middle of
the segment. Note <SPAN LANG="en-US">that</SPAN> ISO11898-2 states
“The locating of the termination within a CAN node should be
avoided because the bus lines lose termination if this node is
disconnected from the bus line.” (Section 5.2.1) and “It is not
recommended to integrate the termination into a CAN node.” (Section
7.1)</FONT></P>
<P><FONT SIZE=3>Manufacturers may want to provide a special
termination node to provide some  indication of bus health as well
as providing termination.  Industrial diagnostic equipment provides
some examples of what can be done.
(<A HREF="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1406&amp;dDocName=en546534">http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1406&amp;dDocName=en546534</A>)
(<A HREF="http://www.ixxat.com/cancheck_en.html?markierung=cancheck">http://www.ixxat.com/cancheck_en.html?markierung=cancheck</A>)
(<A HREF="http://www.ixxat.com/can_bus_tester_cbt_en.html">http://www.ixxat.com/can_bus_tester_cbt_en.html</A>)
(<A HREF="http://www.can-cia.org/pg/can/categories/generic_tool/physical/none/none/index.html">http://www.can-cia.org/pg/can/categories/generic_tool/physical/none/none/index.html</A>)</FONT></P>
<H3 CLASS="western">EMC Management</H3>
<P><FONT SIZE=3>CAN is a robust signaling method developed for use in
the difficult environment of automobiles. Issues of EMC, noise
reduction, etc have been discussed in numerous vendor application
notes including, but not limited to:</FONT></P>
<P><A HREF="http://www.nxp.com/documents/application_note/AN10211.pdf"><FONT SIZE=3>http://www.nxp.com/documents/application_note/AN10211.pdf</FONT></A></P>
<P><A HREF="http://focus.ti.com/lit/an/slla270/slla270.pdf"><FONT SIZE=3>http://focus.ti.com/lit/an/slla270/slla270.pdf</FONT></A></P>
<P><FONT SIZE=3>See also <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
“References” section below.</FONT></P>
<H4 CLASS="western">Chokes</H4>
<P><FONT SIZE=3>A series choke or transformer can improve the noise
immunity of a CAN transceiver. The Specification permits the use of
one, but doesn't require it. The advantages and disadvantages of
<FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">including
one are discussed in the NXP (Philips) and Texas Instruments
application notes referenced above. Typical parts are the TDK
ZJYS81RS-2PL51(T)-G01 and the ZJYS51-2PT. </SPAN></FONT></FONT></FONT>
</P>
<H3 CLASS="western">Sample Schematic</H3>
<P><FONT SIZE=3><SPAN LANG="en-US">The following informative
schematic is a sample of various possible design choices, and not
normative in any way.</SPAN></FONT></P>
<P><IMG SRC="images/SampleSchematic.png" NAME="graphics2" ALIGN=LEFT WIDTH=748 HEIGHT=1067 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H2 CLASS="western">Repeaters, Bridges and Gateways</H2>
<P><FONT SIZE=3>A CAN segment is a set of directly-connected cables
that is shared by multiple nodes with directly-connected
transceivers. Any node on the segment can communicate with any other
node. A CAN segment has limited length, number of nodes and stub
connections due to timing and electrical properties of <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
cables and transceivers. </FONT>
</P>
<P><IMG SRC="CanPhysicalExpl_html_m1d08c11b.png" NAME="graphics1" ALIGN=RIGHT WIDTH=323 HEIGHT=169 BORDER=0><FONT SIZE=3>Repeaters,
bridges and gateways are different methods of connecting two or more
CAN segments so that a node on one segment can communicate with nodes
on any connected segment. This section provides some background
information on these three alternatives. Note that the terminology is
somewhat flexible, and not all manufacturers will refer to their
products in the same way.</FONT></P>
<P><BR><BR>
</P>
<P><FONT SIZE=3>In each section, URLs are provided for a few example
devices. Inclusion of a device in this section is informational, and
does not a imply a recommendation, positive or negative, for the
device. No inferences should be drawn from a device being or not
being included in this section.</FONT></P>
<H3 CLASS="western">Repeaters</H3>
<P><FONT SIZE=3>The number of nodes connected to a short CAN segment
may be limited by the electrical drive characteristics of the
transceivers for the CAN signal, without reaching the timing
limitations of the CAN protocol. In this case, a repeater may be used
to connect a second segment containing more nodes. The repeater
effectively boosts the electrical signals moving from one segment to
the other, so that the nodes on one side appear as only a single
electrical load on the other. </FONT>
</P>
<P><FONT SIZE=3>Doing this takes a small amount of time, so use of
repeaters reduces the total possible end-to-end length of the
combined CAN segments, typically reducing it by around 30 m / 100 ft
per repeater. Under certain circumstances, they can be used to add
long stubs to a CAN network; doing this successfully requires
detailed understanding of CAN characteristics.</FONT></P>
<P><FONT SIZE=3>Repeaters are sometimes referred to as “working at
the bit level”. The CAN transmission is delayed by less than a bit
time, and the CAN arbitration process still works between nodes on
the two segments.</FONT></P>
<P><A HREF="http://www.softing.com/home/en/industrial-automation/products/can-bus/more-can-bus/high-speed/iso-11898-2-repeater.php"><FONT SIZE=3>http://www.softing.com/home/en/industrial-automation/products/can-bus/more-can-bus/high-speed/iso-11898-2-repeater.php</FONT></A></P>
<P><A HREF="http://www.ixxat.com/introduction-repeater_en.html"><FONT SIZE=3>http://www.ixxat.com/introduction-repeater_en.html</FONT></A></P>
<P><A HREF="http://www.esd-electronics-usa.com/shared/datasheets/repeat-e.pdf"><FONT SIZE=3>http://www.esd-electronics-usa.com/shared/datasheets/repeat-e.pdf</FONT></A></P>
<P><A HREF="http://www.ixxat.com/can_cr200_en.html"><FONT SIZE=3>http://www.ixxat.com/can_cr200_en.html</FONT></A></P>
<H3 CLASS="western">Bridges</H3>
<P><FONT SIZE=3>A bridge looks like an independent CAN node on each
of two or more CAN segments, receiving frames on a segment and
sending them independently <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">on
the</SPAN></FONT></FONT> others. As such, it allows connection of two
or more full size, full node-count CAN segments.</FONT></P>
<P><FONT SIZE=3>Bridges are sometimes referred to as “working at
the frame level”. The CAN transmission is delayed by much more than
a bit time, usually a frame time or longer. </FONT>
</P>
<P><FONT SIZE=3>The CAN arbitration process takes place on each
segment independently, and is not shared between the separate
segments; frames will appear in different order on the various
segments. The protocol(s) running on the CAN segments must be
compatible with this reordering if it's to work with bridge(s).</FONT></P>
<P><FONT SIZE=3>Because bridges break the timing connection between
the connected segments, they can also be used for remote connections
via non-CAN cables, wireless, etc. In this case, a bridge device is
usually used at each end of the remote link, and the protocol between
the two devices is specific to the CAN bridge function.</FONT></P>
<P><A HREF="http://www.ixxat.com/introduction_bridges_en.html"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>http://www.ixxat.com/introduction_bridges_en.html</FONT></FONT></A></P>
<P><A HREF="http://www.ieee-icnp.org/1996/papers/1996-21.pdf"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>http://www.ieee-icnp.org/1996/papers/1996-21.pdf</FONT></FONT></A></P>
<P><FONT COLOR="#004cc9"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><U>http://doi.ieeecomputersociety.org/10.1109/ISPAN.1996.509033</U></FONT></FONT></FONT></P>
<P><A HREF="http://www.ixxat.com/can_bridge_en.html"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>http://www.ixxat.com/can_bridge_en.html</FONT></FONT></A></P>
<P><A HREF="http://www.wrcakron.com/devicenet/CAN_Bus_Applications.pdf"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>http://www.wrcakron.com/devicenet/CAN_Bus_Applications.pdf</FONT></FONT></A></P>
<P><A HREF="http://www.matric.com/canbridge.html"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>http://www.matric.com/canbridge.html</FONT></FONT></A></P>
<H3 CLASS="western">4.3 Gateways</H3>
<P><FONT SIZE=3>Gateways connect a CAN segment to another
communication technology, such as IP over wireless, Ethernet or some
other. In <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">the</SPAN></FONT></FONT>
process, they may reformat or translate the CAN frames as needed. For
example, a USB-CAN adapter may convert the CAN frame bytes into some
form of human-readable text. </FONT>
</P>
<P><FONT SIZE=3>This reformatting may be independent of the CAN frame
content information, or specific to some protocol that defines
meaning for the CAN frames. </FONT>
</P>
<P><A HREF="http://www.phytec.com/products/can/pc-can-interfaces/CAN-Ethernet-Gateway.html"><FONT SIZE=3>http://www.phytec.com/products/can/pc-can-interfaces/CAN-Ethernet-Gateway.html</FONT></A></P>
<P><A HREF="http://news.thomasnet.com/fullstory/Gateway-converts-from-CAN-into-Ethernet-529941"><FONT SIZE=3>http://news.thomasnet.com/fullstory/Gateway-converts-from-CAN-into-Ethernet-529941</FONT></A></P>
<P><A HREF="http://www.icpdas-usa.com/products.php?PID=3075"><FONT SIZE=3>http://www.icpdas-usa.com/products.php?PID=3075</FONT></A></P>
<H2 CLASS="western">References</H2>
<P><FONT SIZE=3>This section provides references, and when possible
URLs, that may be of use to OpenLCB implementors.</FONT></P>
<H3 CLASS="western">Standards</H3>
<P><FONT SIZE=3>The Specification references ISO 11898-1 and ISO
11898-2 for CAN specifications. The ISO (<A HREF="http://www.iso.org/">http://www.iso.org</A>)
sells PDF and paper copies of these. Copies can generally be found in
engineering libraries.
(<A HREF="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=33422">http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=33422</A>)
(<A HREF="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=33423">http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=33423</A>)
</FONT>
</P>
<P><FONT SIZE=3>Note that ISO 11898-3, 11898-4 and 11898-5 specify
different variants of the CAN standard that are not relevant to an
OpenLCB-compliant implementations. The original 1995 Bosch CAN
standard, which can be found online, is similar to ISO 11898-1 and
-2, but not identical.</FONT></P>
<P><FONT SIZE=3>The Specification references TIA/EIA-568-B or the
successor TIA/EIA- 568-C for unshielded twisted pair (UTP) cable, and
TIA-968-A for RJ45 modular plugs and jacks. The TIA
(<A HREF="http://www.tiaonline.org/">http://www.tiaonline.org</A>)
sells PDF and paper copies of these. Copies can generally be found in
engineering libraries.</FONT></P>
<H3 CLASS="western">Application Notes</H3>
<P><FONT SIZE=3>A number of component manufacturers have written
application notes that may be useful to OpenLCB developers. A list is
provided here for reference, but note that none of these are
normative; for specific values, etc, please refer to the standards
listed above.</FONT></P>
<H4 CLASS="western">Anixter</H4>
<P>“<FONT SIZE=3>ANSI/TIA/EIA-568-B Standards Reference Guide”
(<A HREF="http://www.anixter.com/AXECOM/AXEDocLib.nsf/(UnID)/8F2E0839A6190F4986257309005757CC/$file/ANSI-TIA-EIA-568-B.pdf">http://www.anixter.com/AXECOM/AXEDocLib.nsf/(UnID)/8F2E0839A6190F4986257309005757CC/$file/ANSI-TIA-EIA-568-B.pdf</A>)</FONT></P>
<H4 CLASS="western">Mohawk.com</H4>
<P>“<FONT SIZE=3>ANSI/TIA/EIA-568-B (B.1, B.2 and B.3) Commercial
Building Telecommunications Cabling Standard”
(<A HREF="http://www.mohawk-cable.com/support/ansi-tia-eia-568-b.html">http://www.mohawk-cable.com/support/ansi-tia-eia-568-b.html</A>)</FONT></P>
<H4 CLASS="western">Microchip Corp</H4>
<P><FONT SIZE=3>AN713 “Controller Area Network (CAN) Basics”
(<A HREF="http://ww1.microchip.com/downloads/en/AppNotes/00713a.pdf">http://ww1.microchip.com/downloads/en/AppNotes/00713a.pdf</A>)</FONT></P>
<P><FONT SIZE=3>AN228 “A CAN Physical Layer Discussion”
(<A HREF="http://ww1.microchip.com/downloads/en/AppNotes/00228a.pdf">http://ww1.microchip.com/downloads/en/AppNotes/00228a.pdf</A>)</FONT></P>
<P><FONT SIZE=3>AN853 “PIC18XXX8 CAN Driver with Prioritized
Transmit Buffer”
(<A HREF="http://ww1.microchip.com/downloads/en/AppNotes/00853a.pdf">http://ww1.microchip.com/downloads/en/AppNotes/00853a.pdf</A>)</FONT></P>
<H4 CLASS="western">Philips</H4>
<P><FONT SIZE=3>AN96116 “PCA82C250 / 251 CAN Transceiver”
(<A HREF="http://www.nxp.com/documents/application_note/AN96116.pdf">http://www.nxp.com/documents/application_note/AN96116.pdf</A>)</FONT></P>
<P><FONT SIZE=3>AN10211 “TJA1040 high speed CAN transceiver”
(<A HREF="http://www.nxp.com/documents/application_note/AN10211.pdf">http://www.nxp.com/documents/application_note/AN10211.pdf</A>)</FONT></P>
<H4 CLASS="western">Texas Instruments</H4>
<P><FONT SIZE=3>Analog Applications Journal, August 1999, TI SLYT197
“TIA/EIA-568A Category 5 cables in low-voltage differential
signaling (LVDS)” (<A HREF="http://focus.ti.com/lit/an/slyt197/slyt197.pdf">http://focus.ti.com/lit/an/slyt197/slyt197.pdf</A>)</FONT></P>
<P><FONT SIZE=3>Application Report SLOA101A “Introduction to the
Controller Area Network (CAN)”
(<A HREF="http://focus.ti.com.cn/cn/lit/an/sloa101a/sloa101a.pdf">http://focus.ti.com.cn/cn/lit/an/sloa101a/sloa101a.pdf</A>)</FONT></P>
<P><FONT SIZE=3>Application Report SLLA270 “Controller Area Network
Physical Layer Requirements”
(<A HREF="http://focus.ti.com/lit/an/slla270/slla270.pdf">http://focus.ti.com/lit/an/slla270/slla270.pdf</A>)</FONT></P>
<P><FONT SIZE=3>Application Report SLLA298B “Isolated CAN Reference
Design” (<A HREF="http://focus.ti.com/lit/an/slla298b/slla298b.pdf">http://focus.ti.com/lit/an/slla298b/slla298b.pdf</A>)</FONT></P>
<P><FONT SIZE=3>Application Report SLOU262 “Isolated CAN
Transceiver EVM”
(<A HREF="http://focus.tij.co.jp/jp/lit/ug/slou262/slou262.pdf">http://focus.tij.co.jp/jp/lit/ug/slou262/slou262.pdf</A>)</FONT></P>
<P><FONT SIZE=3>Analog Applications Journal, 3Q 2006, TI SLYT249
“Improved CAN network security with TI’s SN65HVD1050 transceiver”
(<A HREF="http://focus.ti.com/lit/an/slyt249/slyt249.pdf">http://focus.ti.com/lit/an/slyt249/slyt249.pdf</A>)</FONT></P>
<H3 CLASS="western">Component data sheets</H3>
<P><FONT SIZE=3>This section lists component data sheets that may be
of value to the OpenLCB implementor. Inclusion of a component data
sheet in this section is informational, and does not a imply a
recommendation, positive or negative, for the component or data
sheet. No inferences should be drawn from a component data sheet
being or not being included in this section.</FONT></P>
<H4 CLASS="western">Microchip</H4>
<P><FONT SIZE=3>MCP 2551 High-Speed CAN Transceiver
(<A HREF="http://ww1.microchip.com/downloads/en/DeviceDoc/21667f.pdf">http://ww1.microchip.com/downloads/en/DeviceDoc/21667f.pdf</A>)</FONT></P>
<P><FONT SIZE=3>MCP2515 Stand-Alone CAN Controller With SPI Interface
(<A HREF="http://ww1.microchip.com/downloads/en/DeviceDoc/21801e.pdf">http://ww1.microchip.com/downloads/en/DeviceDoc/21801e.pdf</A>)</FONT></P>
<H4 CLASS="western">NXP Electronics (Philips)</H4>
<P><FONT SIZE=3>PCA82C250 CAN controller interface
(<A HREF="http://www.nxp.com/documents/data_sheet/PCA82C250.pdf">http://www.nxp.com/documents/data_sheet/PCA82C250.pdf</A>)</FONT></P>
<H4 CLASS="western">STMicroelectronics</H4>
<P><FONT SIZE=3>L9615 transceiver
(<A HREF="http://www.st.com/stonline/products/literature/ds/5637.pdf">http://www.st.com/stonline/products/literature/ds/5637.pdf</A>)</FONT></P>
<H4 CLASS="western">Texas Instruments</H4>
<P><FONT SIZE=3>ISO1050 Isolated CAN Transceiver
(<A HREF="http://focus.ti.com/lit/ds/symlink/iso1050.pdf">http://focus.ti.com/lit/ds/symlink/iso1050.pdf</A>)</FONT></P>
<P><FONT SIZE=3>SN55HVD251, SN65HVD251 Industrial CAN Transceiver
(<A HREF="http://focus.ti.com/lit/ds/symlink/sn55hvd251.pdf">http://focus.ti.com/lit/ds/symlink/sn55hvd251.pdf</A>)</FONT></P>
<P><FONT SIZE=3>SN65HVD1050 EMC Optimized CAN Transceiver
(<A HREF="http://focus.ti.com/lit/ds/symlink/sn65hvd1050.pdf">http://focus.ti.com/lit/ds/symlink/sn65hvd1050.pdf</A>)</FONT></P>
<H3 CLASS="western">Tools</H3>
<P><FONT SIZE=3>This section lists tools and diagnostic equipment
that may be of value to the OpenLCB implementor. Inclusion of an item
in this section is informational, and does not a imply a
recommendation, positive or negative, for the item. No inferences
should be drawn from an item being or not being included in this
section.</FONT></P>
<H4 CLASS="western">Microchip 
</H4>
<P><FONT SIZE=3>CAN BUS Analyzer Tool “simple to use low cost CAN
bus monitor”
(<A HREF="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1406&amp;dDocName=en546534">http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=1406&amp;dDocName=en546534</A>)</FONT></P>
<H4 CLASS="western">IXAAT</H4>
<P><FONT SIZE=3>CANcheck “Installation tester for CAN networks”
(<A HREF="http://www.ixxat.com/cancheck_en.html?markierung=cancheck">http://www.ixxat.com/cancheck_en.html?markierung=cancheck</A>)</FONT></P>
<P><FONT SIZE=3>CAN Bus Tester “Diagnostic tool for long-term
monitoring of CAN bus systems”
(<A HREF="http://www.ixxat.com/can_bus_tester_cbt_en.html">http://www.ixxat.com/can_bus_tester_cbt_en.html</A>)</FONT></P>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>