<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB CAN Physical Layer Specification</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20100921;9361100">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<STYLE TYPE="text/css">
	<!--
		H2.ctl { font-family: "Lucida Sans" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1><FONT COLOR="#000000"><IMG SRC="../web/logo-ajs-dph.png" NAME="OpenLCB" ALIGN=RIGHT WIDTH=337 HEIGHT=135 BORDER=2></FONT>OpenLCB
CAN Physical Layer Specification</H1>
<H2 CLASS="western">Introduction (Informative)</H2>
<P>This document defines the physical layer for carrying OpenLCB over
a single Controller Area Network (CAN) bus. It
it not otherwise normative.</P>
<H2 CLASS="western">Intended Use (Informative)</H2>
<P>Conforming OpenLCB nodes can be connected by cables to form a
linear CAN bus with optional short stubs.
OpenLCB nodes generally have two RJ45 modular connectors and can be
daisy-chained together with suitable computer-network (“Ethernet”)
cables. A CAN terminator is installed by the user at each end of the
main bus. 
</P>
<P>Users can expect to be able to
form networks within limitations:
</P>
<UL>
	<LI><P>Total cable length of 1000
	ft / 300m; stub cables count double their length in that total;
	nodes count as 20 ft / 6m in that total 
	</P>
	<LI><P>Never less than 1 ft /
	30cm of cable between nodes, nor between a stub connection and a
	node. 
	</P>
	<LI><P>No more than 50 nodes connected
	</P>
</UL>
<P><FONT COLOR="#000000"><FONT SIZE=3>A limited amount of power can
be distributed via the cable, allowing a few nodes to draw power from
a short (20 ft / 6m) length of the common bus. </FONT></FONT>
</P>
<H2 CLASS="western">References and Context (Normative)</H2>
<P><FONT SIZE=3>In this document </FONT>
</P>
<UL>
	<LI><P><FONT COLOR="#000000">“<FONT SIZE=3>RJ45” refers to the
	miniature 8 position unkeyed plug and jack defined in sections
	Section 6.1.1.3 and Section 6.1.1.4, respectively, of the TIA-968-A
	specification.</FONT> </FONT>
	</P>
	<LI><P><FONT COLOR="#000000">“<FONT SIZE=3>UTP” refers to CAT-3
	or better cable as defined in TIA/EIA-568-B or the successor
	TIA/EIA- 568-C.</FONT> </FONT>
	</P>
	<LI><P>“<FONT SIZE=3>CAN” refers to the electrical and protocol
	specifications as defined in ISO 11898-1:2003 and ISO 11898-2:2003
	and their successors. </FONT>
	</P>
</UL>
<P><FONT COLOR="#000000"><FONT SIZE=3>External certification of parts
shall be accepted for conformance to these standards. Conformance
with a later version of a standard shall be accepted as conformance
with the referenced versions. </FONT></FONT>
</P>
<H2 CLASS="western">Physical Interconnection (Normative)</H2>
<P><FONT SIZE=3>CAN connections between nodes shall be made using UTP
cable. T<FONT COLOR="#000000">here shall be a RJ45 plug on the cable
and RJ45 jack on the node unless the cable is permanently attached to
the node.</FONT></FONT></P>
<P><FONT SIZE=3>The signal, conductor and pair assignments shall be:</FONT></P>
<CENTER>
	<TABLE WIDTH=489 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0>
		<COL WIDTH=82>
		<COL WIDTH=119>
		<COL WIDTH=127>
		<COL WIDTH=128>
		<TR VALIGN=TOP>
			<TD WIDTH=82>
				<P>Conductor</P>
			</TD>
			<TD WIDTH=119>
				<P>Signal Name 
				</P>
			</TD>
			<TD WIDTH=127>
				<P><FONT COLOR="#000000"><FONT SIZE=3><B>TIA/EIA-568-A<BR></B></FONT></FONT><FONT COLOR="#000000"><FONT SIZE=3><SPAN STYLE="font-weight: normal">(Informative)</SPAN></FONT></FONT><FONT COLOR="#000000">
				</FONT>
				</P>
			</TD>
			<TD WIDTH=128>
				<P><FONT COLOR="#000000"><FONT SIZE=3><B>TIA/EIA-568-B<BR></B></FONT></FONT><FONT COLOR="#000000"><FONT SIZE=3><SPAN STYLE="font-weight: normal">(Informative)
				</SPAN></FONT></FONT>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="1" SDNUM="1033;">
				<P>1</P>
			</TD>
			<TD WIDTH=119>
				<P>CAN_H</P>
			</TD>
			<TD WIDTH=127>
				<P>white/green</P>
			</TD>
			<TD WIDTH=128>
				<P>white/orange</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="2" SDNUM="1033;">
				<P>2</P>
			</TD>
			<TD WIDTH=119>
				<P>CAN_L</P>
			</TD>
			<TD WIDTH=127>
				<P>green</P>
			</TD>
			<TD WIDTH=128>
				<P>orange</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="3" SDNUM="1033;">
				<P>3</P>
			</TD>
			<TD WIDTH=119>
				<P>CAN_GND</P>
			</TD>
			<TD WIDTH=127>
				<P>white/orange</P>
			</TD>
			<TD WIDTH=128>
				<P>white/green</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="4" SDNUM="1033;">
				<P>4</P>
			</TD>
			<TD WIDTH=119>
				<P>reserved</P>
			</TD>
			<TD WIDTH=127>
				<P>blue</P>
			</TD>
			<TD WIDTH=128>
				<P>blue</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="5" SDNUM="1033;">
				<P>5</P>
			</TD>
			<TD WIDTH=119>
				<P>reserved</P>
			</TD>
			<TD WIDTH=127>
				<P>white/blue</P>
			</TD>
			<TD WIDTH=128>
				<P>white/blue</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="6" SDNUM="1033;">
				<P>6</P>
			</TD>
			<TD WIDTH=119>
				<P>CAN_SHIELD</P>
			</TD>
			<TD WIDTH=127>
				<P>orange</P>
			</TD>
			<TD WIDTH=128>
				<P>green</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="7" SDNUM="1033;">
				<P>7</P>
			</TD>
			<TD WIDTH=119>
				<P>PWR_NEG</P>
			</TD>
			<TD WIDTH=127>
				<P>white/brown</P>
			</TD>
			<TD WIDTH=128>
				<P>white/brown</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=82 SDVAL="8" SDNUM="1033;">
				<P>8</P>
			</TD>
			<TD WIDTH=119>
				<P>PWR_POS</P>
			</TD>
			<TD WIDTH=127>
				<P>brown</P>
			</TD>
			<TD WIDTH=128>
				<P>brown</P>
			</TD>
		</TR>
	</TABLE>
</CENTER>
<P ALIGN=LEFT><BR><BR>
</P>
<P><SPAN ID="Frame1" DIR="LTR" STYLE="float: left; width: 9.93cm; height: 6.4cm; border: none; padding: 0cm; background: #ffffff">
	<P ALIGN=CENTER><IMG SRC="images/CanRJ45PinoutLarge.png" NAME="pinout" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><FONT SIZE=2><B>Figure
	1: Jack viewed from plug side</B></FONT></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P><FONT SIZE=3><SPAN STYLE="font-weight: normal">Cables, including
cables attached to nodes, shall carry conductors 1 &amp; 2 as a pair,
and conductors 3 &amp; 6 </SPAN>as a pair. </FONT>
</P>
<P><FONT SIZE=3>Cables may, but are not required to, carry conductors
4 <SPAN LANG="en-US">and</SPAN> 5. Conductors 4 and 5, if present,
shall be carried as a pair. </FONT>
</P>
<P><FONT SIZE=3>Cables may, but are not required to, carry conductors
7 <SPAN LANG="en-US">and</SPAN> 8. Conductors 7 and 8, if present,
shall be carried as a pair. </FONT>
</P>
<P><FONT SIZE=3>If a node provides two or more connections,
conductors 1 through 8 shall be provided on all connections.
Conductors 1 through 7 shall be connected in parallel on all
connections. If the node does not provide power on pin 8 on all
connectors, pin 8 on all connectors shall be connected in parallel.
All wiring discussed in this paragraph shall be rated to carry at
least 1A.</FONT></P>
<P><FONT SIZE=3>Nodes shall connect conductors 3 and 6 . This
connection shall be rated to carry at least 1A. </FONT>
</P>
<P><FONT SIZE=3>A node may, but is not required to, connect conductor
7 with conductors 3 and 6. Nodes <FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN LANG="en-US">that</SPAN></FONT></FONT>
require conductor 7 to be connected to conductors 3 and 6 for proper
operation shall connect conductor 7 to conductors 3 and 6.</FONT></P>
<P><FONT COLOR="#000000"><FONT SIZE=3>Voltages of up to 100 volts AC
or either polarity DC on the reserved conductors 4 and 5 shall not
damage the node nor prevent normal operation of the node. </FONT></FONT>
</P>
<P><FONT SIZE=3>Voltages of up to 27 volts AC or either polarity DC
on the PWR_NEG / PWR_POS conductors shall not permanently damage the
node.</FONT></P>
<H2 CLASS="western"><B>Data Transport (Normative)</B> 
</H2>
<P STYLE="font-weight: normal"><FONT SIZE=3>Data shall be transferred
using a CAN signal at 125kbps and CAN frame protocol. </FONT>
</P>
<P><FONT SIZE=3><FONT COLOR="#000000"><SPAN STYLE="font-weight: normal">The
bit slew rate of the CAN signal, as transmitted, shall be less than
10V/microsecond and more than 3.5V/microsecond.</SPAN></FONT><FONT COLOR="#000000">
</FONT></FONT>
</P>
<P STYLE="font-weight: normal"><FONT SIZE=3>Any devices providing bus
termination shall conform to CAN requirements for that termination. </FONT>
</P>
<P STYLE="font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3>A
node may, but is not required to, provide a method for bus
termination as part of the node. If so, there shall be a
user-accessible method for enabling and disabling the termination,
and the node shall be shipped from the original manufacturer with the
termination disabled.</FONT></FONT></P>
<H2 CLASS="western"><FONT COLOR="#000000"><B>Supply of Power
(Normative)</B></FONT><FONT COLOR="#000000"> </FONT>
</H2>
<P><FONT SIZE=3>A node may, but is not required to, provide power to
the cable PWR_POS / PWR_NEG conductors. </FONT>
</P>
<P><FONT SIZE=3>If a node provides power, it shall provide at least
9VDC and no more than 15VDC from zero current draw up to its
specified maximum current. Its specified maximum current shall not
exceed 500 mA. The specified maximum current shall be permanently
written on the node in a location visible to the user. This label is
required whether or not the node provides power to the cable. </FONT>
</P>
<H2 CLASS="western"><FONT COLOR="#000000"><B>Consumption of Power
(Normative)</B></FONT><FONT COLOR="#000000"> </FONT>
</H2>
<P><FONT SIZE=3>Nodes may, but are not required to, draw power from
the PWR_POS / PWR_NEG conductors in the cable. Nodes shall not draw
more than 500 mA at any PWR_POS / PWR_NEG voltage from 7.5VDC to
15VDC. Nodes that draw power shall operate properly with a supply
voltage of 7.5VDC to 15VDC on the PWR_POS / PWR_NEG conductors. The
maximum current drawn by each node shall be permanently written on
that node in a location visible to the user. This label is required
whether or not the node draws power from the cable. </FONT>
</P>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>