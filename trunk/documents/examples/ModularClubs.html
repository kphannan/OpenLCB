<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Modular Clubs and NMRAnet</title>
  <meta name="Author" content="Bob Jacobsen">
  <meta name="Keywords" content="NMRAnet, modules, Fremo">
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="824.48">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 7.0px 0.0px; font: 21.0px Arial}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    p.p3 {margin: 0.0px 0.0px 7.0px 0.0px; font: 19.0px Arial}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p5 {margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times}
    p.p6 {margin: 0.0px 0.0px 6.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p7 {margin: 0.0px 0.0px 7.0px 0.0px; font: 12.0px Times}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 7.0px 0.0px; font: 21.0px Arial"><b>Modular Clubs and OpenLCB</b></h1>
<p class="p2">Modular clubs and their inter-club meets present the most complex use case for OpenLCB. This note describes some of the things they'll want to do, and how OpenLCB can bring it about.</p>
<h2 style="margin: 0.0px 0.0px 7.0px 0.0px; font: 19.0px Arial"><b><i>Goals and Requirements</i></b></h2>
<p class="p2">Large layouts...</p>
<p class="p2">Made of individual modules, and various levels of subassemblies: multi-module yards, club layouts, etc.</p>
<p class="p2">Throttle controls across entire layout...</p>
<p class="p2">Reduce required coordination... Organizations like FREMO are using CAD tools, etc, to design layouts for large meets. Connecting to those, in a flexible manner, is important.</p>
<h2 style="margin: 0.0px 0.0px 7.0px 0.0px; font: 19.0px Arial"><b><i>Desired Uses of OpenLCB</i></b></h2>
<p class="p2">Within a module</p>
<p class="p2">Between Modules</p>
<h2 style="margin: 0.0px 0.0px 7.0px 0.0px; font: 19.0px Arial"><b><i>Discussion</i></b></h2>
<p class="p2">Central idea: OpenLCB is a base for implementing solutions. How to do that need not be specified, particularly at first.</p>
<p class="p4"><br></p>
<p class="p2">Spanning CAN between modules to reduce cost; provides way to create smaller module groups for e.g. club running, etc. Universal address space means you can just wire as needed, limited only by length and traffic.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Communicating events</b></h3>
<p class="p2">Assignment of Node, Event IDs ensure uniqueness, no overlaps or collisions.</p>
<p class="p2">Use of FREMO membership ID space, or perhaps establish subspaces by club, by region, etc, to do actual assignment.</p>
<p class="p2">Events within modules can just be assigned.</p>
<p class="p2">To connect modules, you need something like “Interface Events” to e.g. tell one module's signals that a train is approaching, or is occupying the next block ahead; to allow control from other locations. Easy to document these interface events at the same time as mechanical dimensions, etc, for overall planning. Assign NodeIDs to modules, use those for EventID bases, and define some lower-bit specific-meaning events. Then you just have to name neighbors.</p>
<p class="p4"><br></p>
<p class="p2">Must have a way to match up the events produced by one module with the events consumed in the next.</p>
<p class="p2">Conversion via separate node. E.g. “last section occupied”, emitted as a specific event, gets remapped to another specific event. Could be small node that does this for just one interface, or large central PC; can be distributed as required by other constraints.</p>
<h3 style="margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times"><b>Central monitoring</b></h3>
<p class="p2">Use of e.g. Ethernet for backbone connecting all individual segments (as many as needed) to PCs. This removes distance limitations, etc.</p>
<p class="p4"><br></p>
<p class="p2">Routing protocols have to make it possible to pull all traffic onto backbone. Not really a bandwidth issue, Ethernet speed gets higher and higher all the time, more of a management issue.</p>
<p class="p6"><br></p>
<p class="p7">This is SVN $Revision: 52 $</p>
</body>
</html>
