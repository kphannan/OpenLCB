<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB Example: Modular Clubs and OpenLCB</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.1  (Unix)">
	<META NAME="AUTHOR" CONTENT="Bob Jacobsen">
	<META NAME="CREATED" CONTENT="20090704;17462000">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20090707;8375600">
	<META NAME="KEYWORDS" CONTENT="OpenLCB, modules, Fremo">
	<STYLE TYPE="text/css">
	<!--
		@page { margin: 2cm }
		H1 { margin-bottom: 0.21cm }
		H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
		H1.cjk { font-family: "Arial Unicode MS"; font-size: 16pt }
		H1.ctl { font-family: "Tahoma"; font-size: 16pt }
		P { margin-bottom: 0.21cm }
		H2 { margin-bottom: 0.21cm }
		H2.western { font-family: "Arial", sans-serif; font-size: 14pt; font-style: italic }
		H2.cjk { font-size: 14pt; font-style: italic }
		H2.ctl { font-size: 14pt; font-style: italic }
		A:link { so-language: zxx }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1 CLASS="western">OpenLCB Example: Modular Clubs and OpenLCB</H1>
<P STYLE="margin-bottom: 0cm">Modular clubs and their inter-club
meets present the most complex use case for OpenLCB. This note
describes some of the things they'll want to do, and how OpenLCB can
bring it about.</P>
<H2 CLASS="western">Goals and Requirements</H2>
<P STYLE="margin-bottom: 0cm">Large layouts...</P>
<P STYLE="margin-bottom: 0cm">Made of individual modules, and various
levels of subassemblies: multi-module yards, club layouts, etc. 
</P>
<P STYLE="margin-bottom: 0cm">Throttle controls across entire
layout...</P>
<P STYLE="margin-bottom: 0cm">Reduce required coordination...
Organizations like FREMO are using CAD tools, etc, to design layouts
for large meets. Connecting to those, in a flexible manner, is
important.</P>
<H2 CLASS="western">Desired Uses of OpenLCB</H2>
<P STYLE="margin-bottom: 0cm">Within a module</P>
<P STYLE="margin-bottom: 0cm">Between Modules</P>
<H2 CLASS="western">Discussion</H2>
<P STYLE="margin-bottom: 0cm">Central idea: OpenLCB is a base for
implementing solutions. How to do that need not be specified,
particularly at first.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Spanning CAN between modules to reduce
cost; provides way to create smaller module groups for e.g. club
running, etc. Universal address space means you can just wire as
needed, limited only by length and traffic.</P>
<H3>Communicating events</H3>
<P STYLE="margin-bottom: 0cm">Assignment of Node, Event IDs ensure
uniqueness, no overlaps or collisions. 
</P>
<P STYLE="margin-bottom: 0cm">Use of FREMO membership ID space, or
perhaps establish subspaces by club, by region, etc, to do actual
assignment.</P>
<P STYLE="margin-bottom: 0cm">Events within modules can just be
assigned.</P>
<P STYLE="margin-bottom: 0cm">To connect modules, you need something
like “Interface Events” to e.g. tell one module's signals that a
train is approaching, or is occupying the next block ahead; to allow
control from other locations.  Easy to document these interface
events at the same time as mechanical dimensions, etc, for overall
planning. Assign NodeIDs to modules, use those for EventID bases, and
define some lower-bit specific-meaning events. Then you just have to
name neighbors.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Must have a way to match up the events
produced by one module with the events consumed in the next.</P>
<P STYLE="margin-bottom: 0cm">Conversion via separate node. E.g.
“last section occupied”, emitted as a specific event, gets
remapped to another specific event. Could be small node that does
this for just one interface, or large central PC; can be distributed
as required by other constraints.</P>
<H3>Central monitoring</H3>
<P STYLE="margin-bottom: 0cm">Use of e.g. Ethernet for backbone
connecting all individual segments (as many as needed) to PCs.  This
removes distance limitations, etc.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Routing protocols have to make it
possible to pull all traffic onto backbone.  Not really a bandwidth
issue, Ethernet speed gets higher and higher all the time, more of a
management issue.</P>
<HR>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>
