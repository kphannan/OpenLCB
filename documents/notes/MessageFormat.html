<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Note: Message Format</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20090125;18105900">
	<META NAME="Info 1" CONTENT="">
	<META NAME="Info 2" CONTENT="">
	<META NAME="Info 3" CONTENT="">
	<META NAME="Info 4" CONTENT="">
	<!-- $Id$ -->
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>Note: Message Format</H1>
<H2>Addresses</H2>
<P>The Node ID (NID) is used a globally unique address. 
</P>
<H2>Bits vs Codes</H2>
<P>Should a common Message Type ID contain bit-coded fields for e.g.
presence of Destination Node ID, presence of Event ID? There are
arguments in both directions. 
</P>
<P>Having a bit-coded value (bit that says Destination Node ID
present) is the same as a bit saying &quot;global message vs
addressed&quot;; one could chose to document it either way. Having
this bit saves space in the most common messages, which are the
global P/C Event Reports. 
</P>
<P>The alternative is a global address value. One could _always_ have
the DID present, and have a specific value (e.g. 0) that indicates
the message is addressed to all nodes. This may result in simpler
message deformating code, as the remaining fields are always in the
same byte locations. 
</P>
<P>The common message can be reformatted on any particular wire
protocol, so if one form or the other works better e.g. on a CAN
link, the local format can use the other form. 
</P>
<P STYLE="margin-bottom: 0cm">Similarly, having a bit that indicates
an Event ID is present can help parse messages faster, but it's
truely optional in any particular local format. 
</P>
<HR>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>