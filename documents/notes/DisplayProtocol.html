<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB Note: Display Protocol</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20100629;10210300">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>OpenLCB Note: Display Protocol</H1>
<P>OpenLCB achieves flexibility and economy of implementation by
using many small, general, common protocols to provide larger control
functions. This note describes a common protocol for driving small
information displays around a layout. These might include small
screens in throttles, fixed displays at stations, and similar.</P>
<H2>Environment of Proposal</H2>
<H3>Requirements</H3>
<P>Provide character-oriented multi-line displays.</P>
<H3>Preferences</H3>
<P>Must support multiple displays on a single node.</P>
<P>Multiple formats (fonts, sizes, colors) desirable.</P>
<P>Graphical display as a future extension.</P>
<H3>Design Points</H3>
<P>Single directional, point-to-point datagram protocol, where the
sender knows the node ID of the receiver, works well in OpenLCB.</P>
<P>Must be able to query capabilities so the sender can adapt to
them.</P>
<P>Minimal capability should be assumed, but if more is needed, the
sender has more resources than the receiver.</P>
<P>HTML provides a useful lingua franca for formatted text, but adds
length to messages. Goes beyond single datagram? E.g. provide stream
option for formated text.</P>
<P>Reservation capability needed? Optional?</P>
<P>Operations besides load text: Clear? Address to a specific
character? Single datagrams too small for even a single line.</P>
<H2>Proposed Protocol</H2>
<H3>Examples</H3>
<P>It might be interesting to show how this works for a throttle, or
for a fast clock repeater, or for giving train orders at a remote
station.</P>
<H3>Datagram Format</H3>
<P>Basic format is datagram-ID-byte, ...</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=4>
	<COL WIDTH=23*>
	<COL WIDTH=31*>
	<COL WIDTH=138*>
	<COL WIDTH=64*>
	<TR VALIGN=TOP>
		<TH WIDTH=9%>
			<P><BR>
			</P>
		</TH>
		<TH WIDTH=12%>
			<P><BR>
			</P>
		</TH>
		<TH WIDTH=54%>
			<P>Command</P>
		</TH>
		<TH WIDTH=25%>
			<P>Arguments</P>
		</TH>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=9%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=12%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=54%>
			<P><BR>
			</P>
		</TD>
		<TD WIDTH=25%>
			<P><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<P><BR><BR>
</P>
<H2>Remaining Points</H2>
<P><BR><BR>
</P>
<P><BR><BR>
</P>
<HR>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>