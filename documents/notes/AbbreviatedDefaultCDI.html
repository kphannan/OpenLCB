<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB: Configuration Description Information</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20110531;364600">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>OpenLCB: Abbreviated Default Configuration Description
Information</H1>
<P>This is a working note in which we are developing recommendations
for “Abbreviated Configuration Description Information” (ACDI). 
</P>
<P STYLE="margin-bottom: 0cm">There are separate documents that
discuss (a) Configuration Protocol and the full mechanisms for
Configuration Description Information. In this document, we discuss
an abbreviated form of configuration description information that is
useful for rapid retrieval of basic information from an OpenLCB node.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Consider a &quot;network browser&quot;
that can show more specific information on the nodes, e.g. their type
information, user-given names, etc. To do that, the browser could</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Read the configuration description
	information (CDI)</P>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Parse out the first section(s)</P>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Do memory-access configuration
	reads to get the information.</P>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">That last step is very fast. The
browser could do the necessary configuration reads in a small
fraction of a second, at least on an idle CAN segment. 
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">But the first two steps are
not-so-fast. The CDI is a very powerful and general method to
describe all about the node, but it's a handful to read &amp; parse
when you just want to get some specific information.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">This note discuses a code-free approach
that would allow a node implementor to say &quot;I keep my basic
information in a common place&quot;, so that e.g. browser tools can
pick that up quickly. Something like:</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">1) A node denotes that it has this
capability using a specific protocol bit (1 CAN exchange to check
that)</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">2) If it does, the basic information
can be found in a specific place in the configuration space
(specific, well-known address space, location, and format), so can be
directly read via configuration reads (datagram access, with small
CAN overhead)</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">For this to work, there needs to be a
common content (so that we don't need another layer of CDI-like stuff
to define this content too). Hence this note. What should be in that
content? 
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Some fixed info:</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">*) A version number, so we can extend
this later</P>
<P STYLE="margin-bottom: 0cm">*) A manufacturer name 
</P>
<P STYLE="margin-bottom: 0cm">*) A manufacturer-issued node type name</P>
<P STYLE="margin-bottom: 0cm">*) Node version? (Covers hardware and
software versions)</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Some variable info, which the user can
change:</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">*) Name</P>
<P STYLE="margin-bottom: 0cm">*) Location 
</P>
<P STYLE="margin-bottom: 0cm">(or a more general comment field? Or
both?)</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">It would be nice to keep this somewhat
compact, with the most useful (in the sense of &quot;people will want
to see this quickly&quot;) info at the front. Reading a full datagram
(64 bytes payload) would let us sample about 50 nodes in a second
(idle bus), which is fine. Another factor of 4 larger might start to
seem slow to the user, though. The whole idea is to be able to get a
view of even large networks faster than a user can browse through the
info on an screen. The user can then select a small number of
specific nodes that are interesting, pull the full CDI and work with
the entire configuration information of those nodes.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Proposed content:</P>
<P STYLE="margin-bottom: 0cm">Read from space N</P>
<P STYLE="margin-bottom: 0cm">Byte 0: ADCDI version, default 0</P>
<P STYLE="margin-bottom: 0cm">Next: Manufacturer name as string</P>
<P STYLE="margin-bottom: 0cm">Next: Manufacturer-issued node type
name as string</P>
<P STYLE="margin-bottom: 0cm">Next:  Manufacturer-defined node
version, as string</P>
<P STYLE="margin-bottom: 0cm">Read from space M</P>
<P STYLE="margin-bottom: 0cm">Byte 0: ADCDI version, default 0</P>
<P STYLE="margin-bottom: 0cm">Next: User provided node name as string</P>
<P STYLE="margin-bottom: 0cm">Next: User provided free-form comment
as string</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">(Comment provides a longer field, not
computer parsed; node name is a short thing for e.g. headings, etc)</P>
<P STYLE="margin-bottom: 0cm">Two spaces provided for simplicity in
implementation, as we imagine that some will be from a permanent
memory and some will be user configurable.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Later versions with higher ADCDI
version numbers, can contain more fields.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>