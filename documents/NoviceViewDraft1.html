<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.1  (Unix)">
	<META NAME="AUTHOR" CONTENT="David Harris">
	<META NAME="CREATED" CONTENT="20100613;17155500">
	<META NAME="CHANGEDBY" CONTENT="David Harris">
	<META NAME="CHANGED" CONTENT="20100618;14492600">
</HEAD>
<BODY LANG="en-CA" DIR="LTR">
<P STYLE="font-style: normal"><FONT SIZE=5><U><B>OpenLCB for Dummies</B></U></FONT></P>
<P><FONT SIZE=4>On first blush, model railroads appear to be only
about running a train around a track.  A second look might notice how
the train is controlled: is it 'DC', where the the trains are
controlled by the voltage on the track; or is it 'DCC' (Digital
Command Control), where they are controlled by commands sent through
the rails to the engine. The next look might be on the scenery and
points of static interest on the layout, such as lakes and buildings.
</FONT>
</P>
<P><FONT SIZE=4>However, even on small layouts, the layout designer
will soon want to add some interesting active accessories, such as
lighting, powered turnouts (points), crossing gates, sound, and
automation. Often these things are controlled manually, but this soon
becomes tiresome, and it would be much nicer if the turnouts can be
managed from a distance, or from two locations. This is possible, but
most layouts become a maze of wires, and become hard to maintain and
extend. </FONT>
</P>
<P><FONT SIZE=4>You may be aware of DCC, mentioned above, and how it
has changed the way we control trains on a layout.  The controller /
throttle / handle  is the main control point for the user.  It is the
equivalent to the remote control for a television.  Many of these
need to be plugged into a socket on the layout, but many nowadays are
wireless.  With them, one tells the train what to do.   The command
station is what actually powers the trains, and it not only supplies
power through the rails, but also digital commands through those same
rails.  In addition to trains, you can attach accessories, such as
turnout controllers and train signals onto the rails.  Unfortunately,
the DCC systems has some limitations in how many trains and devices
it can control.  </FONT>
</P>
<P><FONT SIZE=4>This is where OpenLCB comes in. OpenLCB is a
messaging system and a set of components that are designed to let you
control your model railroad accessories in a simple coherent manner,
with less wiring.  It is a parallel system to the train control
system, whether that is DC or DCC.  Although it is useful on small
layouts, it is powerful enough to control very large layouts, such as
those in museums or built by modular clubs. </FONT>
</P>
<P><FONT SIZE=4>OpenLCB stands for 'Open Local Control Bus'.  The
Open-part declares that it is developed as an open-source standard –
that is, there are no fees for using the design, but it is
standardized so that products from different companies will work
together, even though they may superficially operate differently.  </FONT>
</P>
<P><FONT SIZE=4>OpenLCB is implemented as a set of units called
'nodes' which take inputs ,such as push-buttons and BODS, and
controls outputs such as lights and switch-machines. The nodes send
messages to each other using a bundle of wires run between them
called a 'bus', that acts as a party line. </FONT>
</P>
<P><FONT SIZE=4>It is helpful to describe how OpenLCB might help the
novice and expert model railroader. Simple layouts will likely have
only few nodes, for a set of push-buttons that are used to control a
set of turnouts (points). In this case, one or more OpenLCB
turnout-controller nodes and a panel node, such as a multi-button
node, and a power supply would be needed. After the nodes are
connected together with the bus cables, as per their instructions,
and are powered on, the nodes will all listen on the bus.  At first
nothing will apparently happen when the buttons are pushed, however
the button-node does send a message on the bus to indicate that the
button was pushed, which is called a trigger. Other nodes must be
taught to respond to that message by causing something to happen,
such as turning on a light, changing a signal, or moving a turnout. </FONT>
</P>
<P><FONT SIZE=4>Teaching a node to respond differs depending on the
node, but the usual process is to select a 'learning' node to listen
and what action it should take when the message is received.  An
example of the latter would be moving a turnout to a specific
direction. Then another 'teaching' node is selected and put into
teach-mode.  This node then sends a teaching-message when the
'trigger' occurs, in this case when as button is pushed to the other
node waiting to be taught.  After the teaching, whenever the button
is pushed, the trigger-node sends a message along the bus to the
listening-node and the turnout is moved.   </FONT>
</P>
<P><FONT SIZE=4>This process has its own terminology: the whole
package of triggers, messages, and actions is called the
'Producer/Consumer Model'; the actual message is called an 'event';
the triggering-node is called a 'producer', because it produces the
event; and the action-node is call the 'consumer', because it
consumes the event. </FONT>
</P>
<P><FONT SIZE=4>The Producer/Consumer, or P/C, Model is very
powerful. It allows one or more producers to cause zero or more
consumers to cause actions. However, its real power comes form the
fact that neither the producers, no the consumers, need to know about
any of the others. While it is obvious that a button press might
cause a turnout to go to the closed position, a single event might
allow two buttons at opposite ends of teh layout to control
twenty-five turnouts to set a route. Events can represent such
abstract concepts as “Set the lighting to dawn”, or “Set the
layout to mainline running”, which can effect multiple different
equipment on the layout. </FONT>
</P>
<P><FONT SIZE=4>While OpenLCB is simple to operate and to teach
events to, it really shines as your layout grows. All things have
limits and eventually you will have more nodes than a single bus can
contain. This will be anywhere from 25-75 nodes. At that point, you
can simply divide you bus into two bus-segments, and join them with a
bus-repeater. The problem is that any bus segment will be limited by
getting too long, having too many nodes, too much activity, or
needing too much power. By dividing the bus in two you make two
segments that are shorter, have less nodes, and need less power. The
bus-repeater node simply joins the two halves together. The important
point is that you do not have to change anything else. All your
programming is intact and you can just continue as you were. </FONT>
</P>
<P><FONT SIZE=4>However, at any point, you may want to take advantage
of some of the other features that OpenLCB offers. OpenLCB is the
ability to connect legacy model railroad equipment that you may own,
for example, you can connect to DCC, Loconet, Xpressnet, C\MRI, etc.
These nodes are called 'bridges' and come in a variety of flavours,
depending on what you need. </FONT>
</P>
<P><FONT SIZE=4>A bus-repeater is a simple 'bridge' node, it just
sends all the activity on one segment to the other. You may have
noticed above that dividing your bus into two segments did not reduce
the bus activity. Fancier bridges are available that can not only
connect segments together but can reduce the activity on each of them
to only those messages that are useful to each segment. </FONT>
</P>
<P><FONT SIZE=4>One such bridge connects the bus to Ethernet – this
actually runs the OpenLCB protocol on ethernet allowing you not only
to connect your computer, but to connect to the wider world via the
internet. Using ethernet is most useful to larger layouts because it
can join many bus-segments together, and, since ethernet has a higher
'bandwidth', can easily handle the activity of the many segments. </FONT>
</P>
<P><FONT SIZE=4>However, the biggest advantage to OpenLCB is not
apparent unless you compare it to other buses. Other buses require
the user to choose 'node IDs' and to ensure that no node has the same
ID. This is quite easy on small layouts, reasonable on larger
layouts, but becomes almost impossible on very large layouts or
layouts that are put together in an ad hoc manner, such as occurs at
large meets of modular groups, such as Fremo, Free-mo, Ntrak,
oNeTrak, etc.  OpenLCB makes putting together these layouts
reasonably painless and efficient.  Together with other advanced
features, OpenLCB lets these groups focus on enjoying their massive
layouts. </FONT>
</P>
<P><FONT SIZE=4>So, in summary, OpenLCB is a messaging system that
connects accessories together in a coherent whole in a simple manner
that lets model railroaders run their railroads.  </FONT>
</P>
</BODY>
</HTML>