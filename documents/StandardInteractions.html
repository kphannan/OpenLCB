<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Standard Interactions</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.1  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20090824;21130600">
	<!-- $Id$ -->
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>Standard Interactions</H1>
<P>All nodes must be able to take part in all standard interactions.</P>
<H2>A) Error Handling</H2>
<H3>Reject Addressed Optional Interaction</H3>
<UL>
	<LI><P>Node A receives an addressed message from Node B that carries
	Node A's NID. 
	</P>
</UL>
<UL>
	<LI><P>The MTI indicates the start of an optional interaction. 
	</P>
</UL>
<UL>
	<LI><P>If Node A does not want to take part in the optional
	interaction, it sends an Optional Interaction Rejected message
	addressed to Node B with the original MTI in the message content. 
	</P>
</UL>
<P STYLE="margin-left: 0.93cm">The message content also contains an
optional reason code and an optional data value. The use of these
fields is to be defined. 
</P>
<H3>Reject Unaddressed Optional Interaction</H3>
<UL>
	<LI><P>Node A receives an unaddressed message from Node B. 
	</P>
	<LI><P>The MTI indicates the start of an optional interaction. 
	</P>
</UL>
<P STYLE="margin-left: 0.95cm">If Node A does not want to take part
in the optional interaction, it silently drops the message without
reply. 
</P>
<H3>Reject Addressed Standard Interaction Due to Error</H3>
<UL>
	<LI><P>Node A is taking part in an addressed interaction with Node B
	which it is expected to send the next message. 
	</P>
	<LI><P>Some error condition prevents continuing the interaction. 
	</P>
	<LI><P>To terminate the interaction, it sends a Terminate Due to
	Error message to Node B. 
	</P>
</UL>
<P STYLE="margin-left: 0.98cm">The message content contains the most
recent MTI received in this interaction, a mandatory reason code and
an optional data value. The use of these fields is to be defined. 
</P>
<H2>B) Node ID Discovery</H2>
<P STYLE="margin-left: 1.01cm">Upon receipt of a Verify Node ID
Number message addressed to it, or an unaddressed Verify Node ID
Number message, a node will reply with an unaddressed Verified Node
ID Number. 
</P>
<P STYLE="margin-left: 1.01cm">This can be used as check that a
specific node is still reachable. When wire protocols compress the
originating and/or destination NID, this can be used to obtain the
full NID. 
</P>
<H2>C) Node Initialization</H2>
<P STYLE="margin-left: 1.01cm">Newly functional nodes, once their
start-up is complete and they are fully operational, must send an
&quot;Initialization Complete&quot; message. 
</P>
<P STYLE="margin-left: 1.01cm">There is no guarantee that any other
node is listening for this. No reply is possible. 
</P>
<P STYLE="margin-left: 1.01cm">Nodes must not emit any other NMRAnet
message before the “Initialization Complete” message.</P>
<P STYLE="margin-left: 1.01cm">Sending the message is required so
that higher-level tools are notified that they may start to work with
the node. 
</P>
<P><I>This is SVN $Revision$ </I>
</P>
</BODY>
</HTML>