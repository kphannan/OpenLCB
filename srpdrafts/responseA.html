<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>S/RP 9.6 (NMRAnet) Proposal Documentation Index</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20110308;12251600">
	<STYLE TYPE="text/css">
	<!--
		H3.ctl { font-family: "Lucida Sans" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<P ALIGN=CENTER STYLE="background: #9999ff"><FONT COLOR="#000000"><IMG SRC="../web/logo-ajs-dph.png" NAME="OpenLCB" ALIGN=RIGHT WIDTH=337 HEIGHT=135 BORDER=2></FONT><FONT SIZE=4><U>NMRA
S9.5.1 and its Relation to OpenLCB</U></FONT></P>
<P>In February 2011, the NMRA adopted Standard S9.5.1 for the CAN
physical layer of their “NMRAnet” effort. This was based on the
OpenLCB physical layer specification, but with significant
modifications to the CAN specification. We think that this was a
serious error by the NMRA.  We want people know about this situation
so that when things eventually go seriously wrong, the rest of the
communities developing CAN-based layout control buses won't be
discredited by the inevitable results of these foolish actions by the
NMRA.</P>
<P>Briefly, the NMRA has  adopted an S9.5.1 Standard that cannot
perform as promised.  The NMRA's new NMRAnet physical layer Standard
is based on specific modifications to the international CAN standard
to get “extended performance”. Layouts built using this NMRAnet
specification will be unable to live up to those promises for
“extended performance”.</P>
<H3 CLASS="western">Technical summary</H3>
<P>Di Voss, in his role as NMRA Standards and Conformance Department
Director, has decided on an approach to NMRAnet protocols that does
not have strong capabilities to handle more than one CAN segment. 
This motivates him to find ways to put as many nodes as possible on a
single CAN segment, so that only one is needed.  (That effort has not
discussed their solution for connecting smart phones and other
devices that do not have native CAN interfaces.) There are multiple
technical issues that effect how big a CAN segment can be, and the
international CAN standard has addressed these in a balanced way. 
Di's brother Don has used information from two vendor notes (out of
the hundreds available for CAN; see the list of NN in the OpenLCB
Technical Note on this topic) to devise changes to the CAN standard
that address just one of these limitations.  From this, the Voss
brothers conclude that a much larger number of nodes can be supported
on a segment, as shown in the formula and Figure 1 in the NMRA's
S9.5.1 Standard.</P>
<P>OpenLCB developers with years of CAN experience disagree with the
Voss brothers' simplistic analysis.  Their changes to S9.5.1 make
promises that cannot be kept, because the “extensions” to CAN
have only addressed one of the many issues involved in supporting
longer CAN segments with a larger number of nodes. This has been
explained repeatedly to them in significant detail,  (link
responseA1.html, responseA2.html) and those interested in the
technical details can get more information from those notes. 
</P>
<P>By imposing “extensions” to the international CAN standard,
the NMRA Standard makes existing commercial CAN hardware
non-conforming, which model railroaders will understand to mean that
they can't use them. This restricts hobbyist choices, and channels
their purchases to vendors selected by the Voss brothers.</P>
<P>NMRAnet-conforming hardware will work reasonably well on short CAN
segments with a few nodes.  Longer segments may work better or worse,
depending on whether NMRAnets specified power and termination methods
work better or worse than the CAN standards.  Where the results are
most problematic is where the CAN segment is longer and has more
nodes than the OpenLCB recommendations, but still within the NMRAnet
recommendations. Those segments will sometimes work reliably, but
since they have greatly reduced margins, there will be other
circumstances where the segment does not work reliably.  When this
happens, the blame should be placed firmly at the feet of the Voss
brothers.</P>
<H3 CLASS="western">Historical Background</H3>
<P>How did we get to this undesirable situation?</P>
<P>(History, mostly links; this can be taken from our note to the
board)(pdf)</P>
<P STYLE="margin-bottom: 0cm">responseA3.html</P>
<H3 CLASS="western">Conclusion</H3>
<P STYLE="margin-bottom: 0cm">There are some specific points in
conclusion:</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">The OpenLCB group will continue to
	do good work, developing useful capabilities in a professional
	manner. OpenLCB nodes will meet their performance specifications.</P>
	<LI><P STYLE="margin-bottom: 0cm">NMRAnet will be what it is,
	developed as the NMRA wants.</P>
	<LI><P STYLE="margin-bottom: 0cm">NMRAnet hardware will be able to
	run as OpenLCB nodes once suitable software is created. Int hta
	mode, they will meet OpenLCB performance expectations.</P>
	<LI><P STYLE="margin-bottom: 0cm">Hardware that conforms to the
	OpenLCB physical layer specification may or may not conform to the
	NMRA S9.5.1 Standard depending on choices by the designer.  We
	expect that most custom-designed model railroad boards will.  We
	expect that many commercial products that are usable as OpenLCB
	nodes will not conform to the NMRA S9.5.1 Standard due to driver and
	termination choices.</P>
</UL>
<P>From this experience, we conclude that there is little point in
trying to align the OpenLCB efforts with the NMRA's process for
developing NMRAnet Standards.  We may revisit this decision later on,
but for now, we wish the NMRA luck in its efforts, we're willing to
let them use the sections of their S9.5.1 Standard that we developed,
and we remind the model railroading community that OpenLCB actually
works.</P>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>