<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>S/RP 9.6 (NMRAnet) Proposal Documentation Index</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<STYLE TYPE="text/css">
	<!--
		H3.ctl { font-family: "Lucida Sans" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<P ALIGN=CENTER STYLE="background: #9999ff"><FONT COLOR="#000000"><IMG SRC="../web/logo-ajs-dph.png" NAME="OpenLCB" ALIGN=RIGHT WIDTH=337 HEIGHT=135 BORDER=2></FONT><U><FONT SIZE=4>NMRA
S9.5.1 and its Relation to OpenLCB</U></FONT></P>
<P>In February 2011, the NMRA adopted Standard S9.5.1 for the CAN
physical layer of their “NMRAnet” effort. This was based on the
OpenLCB physical layer 
<a href="../specs/CanPhysicalS.pdf">specification</a> and 
<a href="../specs/CanPhysicalTN.pdf">technical note</a>, but the NMRA made significant
modifications to the CAN part of the specification. 
Four of us (JD, DH, BJ and AS) worked on those
OpenLCB documents.
We think that the NMRA's decision was a
serious error. We want people to know about this situation
so that when things eventually go seriously wrong, the rest of the
communities developing CAN-based layout control buses won't be
discredited by the inevitable results of the NMRA's poorly-considered 
decision.
<P>Briefly, the NMRA has adopted an S9.5.1 Standard that cannot
perform as promised. 
The NMRA's new NMRAnet S9.5.1 Physical Layer Standard
is based on specific modifications to the international CAN standard
to get “extended performance”. Layouts built using this NMRAnet
specification will be unable to live up to those promises for
“extended performance”.</P>
<H3 CLASS="western">Technical summary</H3>
<P>Di Voss, in his role as NMRA Standards and Conformance Department
Manager, has decided on an approach to NMRAnet protocols that does
not have strong capabilities for handling more than one CAN segment.
This motivates him to find ways to put as many nodes as possible on a
single CAN segment, so that only one segment is needed. 
(The Voss NMRAnet effort
has not discussed a solution for connecting smart phones and
other devices that do not have native CAN interfaces) There are
multiple technical issues that effect how big a CAN segment can be,
and the international CAN standard has addressed these in a balanced
way. Di's brother Don Voss has used information from two vendor notes (out
of the huge number available for CAN; see e.g the list of 18 in the OpenLCB
Technical Note on this topic) to devise changes to the CAN standard
that address just one of these limitations. From this, the Voss
brothers conclude that a much larger number of nodes can be supported
on a segment, as shown in the formula and Figure 1 in the NMRA's
S9.5.1 Standard.</P>
<P>OpenLCB developers with years of CAN experience disagree with the
Voss brothers' simplistic analysis. Their changes to S9.5.1 make
promises that cannot be kept, because the “extensions” to CAN
have only addressed one of the many issues involved in supporting
longer CAN segments with a larger number of nodes. This has been
explained repeatedly to them in significant detail, 
[<a href="BoardLetterAnalysis.pdf">1</a>]
[<a href="2011-02-16TechComments.pdf">2</a>]
and those interested in the
technical details can get more information from those notes.
</P>
<P>By imposing “extensions” to the international CAN standard,
the NMRA Standard makes existing commercial CAN hardware
non-conforming, which model railroaders will understand to mean that
they can't use them. This restricts hobbyist choices, and channels
their purchases to vendors selected by the Voss brothers.</P>
<P>NMRAnet-conforming hardware will work reasonably well on short CAN
segments with a few nodes. Longer segments may work better or worse,
depending on whether NMRAnets specified power and termination methods
work better or worse than the CAN standards. Where the results are
most problematic is where the CAN segment is longer and has more
nodes than the OpenLCB recommendations, but still within the NMRAnet
recommendations. Those segments will sometimes work reliably, but
since they have greatly reduced margins, there will be other
circumstances where the segment does not work reliably. When this
happens, the blame should be placed firmly at the feet of the Voss
brothers and the NMRA for blindly backing them.</P>
<H3 CLASS="western">Historical Background</H3>
<P>How did we get to this undesirable situation?</P>
<P>At the 2007 Detroit NMRA convention, several
groups working on a new approaches to a "Layout Control Bus" 
got together for discussion. 
Don Voss was working on an RS-485 approach,
a few other people were working on another RS-485 approach,
and several people were developing CAN-based solutions.
Di Voss enlisted John Socha-Leialoha to develop
some 
<a href="http://nmranet.sourceforge.net/NMRAGoalsAndMandate.pdf>goals</a>
for a common
"NMRAnet" result in an attempt to pull together
a single effort and make faster progress.  Several people
worked on this with John, and a set of 
<a href="http://nmranet.sourceforge.net/NMRANetGoalsAndMeasures-2007-10-22.pdf">measures of success</a>
was eventually generally accepted by everybody except Don Voss.
Don felt that the criteria were too far-reaching, and covered 
items that he felt were not important.
<p>
An NMRAnet discussion and working group was then established
under the leadership of Edward Richards.
That <a href="http://groups.yahoo.com/group/nmranet-wg-tech/">discussion went well</a>,
with some significant technical progress, 
until Di Voss decided to fire Edward Richards
so that he could install his brother in charge of the effort.
Di Voss's post doing this can be found 
<a href="http://groups.yahoo.com/group/nmranet-wg-tech/message/960">here</a>; 
note that his description
of Don's qualifications is substantially at variance with the subsequent facts,
including failing to mention that Don had not even <u>read</u> the CAN
specification at that point, let alone had any experience designing CAN systems.
Under Don Voss, the effort collapsed completely.
Over a couple months, a vibrant group that had been making progress, 
had made decisions and 
created prototypes, lost members and enthusiasm.  
The effort decayed away over two months, as can be 
seen in its 
<a href="http://groups.yahoo.com/group/NMRANETWG/">message totals</a>.
Don's behavior as group manager grew pretty abusive
and threatened to split the group into
two. Di Voss put Alex Shepherd in charge of the group in August, 
and 
<a href="http://groups.yahoo.com/group/NMRANETWG/message/404">asked for two separate proposals<a>
which Di said would get an even-handed evaluation by a neutral panel, but Di never convened the panel.
It became clear that 
Di was only listening to Don, and Don's behavior was becoming 
increasingly arbitrary.

<p>
In the Spring of 2010, 
Di arranged for Don's "S9.5" specification to be 
listed on the NMRA web site
as the choice for NMRAnet, with no consideration of the other efforts.
Di also wrote an article in the June 2010 Scale Rails 
that described only Don's proposal for NMRAnet, and 
falsely attributed work to various people.
David Harris wrote an article for Scale Rails that covered
the OpenLCB effort, but Di refused to allow it to be published.
<p>
All of this was far from treating the efforts on an even-handed basis,
and showed clear preference for the work of Di's brother, 
even though it was much less complete than other efforts.
A number of people protested this bias on Di's part, and
he agreed to host an event 
at the Summer 2010 NMRA Convention in Milwaukee where all 
proposals would be "fairly considered". There were displays
and presentations by OpenLCB, MERG CBUS, AT Bus, and Don's 
S9.5 effort (though Don threatened one OpenLCB organizer 
that he would "have my brother throw you out of the convention"
when asked questions).  Unfortunately, Di never even visited the 
OpenLCB, MERG CBUS or AT Bus demos, though he did find time to visit the S9.5 
demo for almost an hour. He made no effort to make a fair comparison, nor did
he enlist anybody else to make one.

<p>
Naively, and despite all this evidence, several of us thought there was value
in a consensus NMRAnet specification, at least to the extent possible.  
In particular, John Day thought that he could work with Don Voss and others
to craft a common "physical layer" specification that would let manufacturers
provide circuit boards that could be used for many different functions with
suitable software.  Karl Kobel agreed to chair a group to do that, and 
<a href="http://groups.yahoo.com/group/NMRANET/">the group was established</a>
by Di Voss with the goal of sending him a proposal in Fall 2010.
There were active discussions in August and September, including detailed negotiations
over what should be in the final document.  
Don Voss took part, as did others.
Many people, including Don and the authors of this note, made suggestions that were
accepted, and other suggestions that were not accepted.  
The final documents
(draft 
<a href="http://www.openlcb.org/trunk/srpdrafts/NMRA_S-9-x-1.pdf">standard<a/> and
<a href="http://www.openlcb.org/trunk/srpdrafts/NMRA_TN-9-x-1.pdf">technical note</a>)
were written by the four of us based on the discussions, edited and revised through
multiple rounds of additional discussions, voted on and forwarded by Karl Kobel
to Di Voss.
<p>
Imagine our surprise when, with literally <u>no</u> notice from
Di, the drafts that were published on the NMRA web site
were not the ones that had been voted on.
Several features that Don had championed, but that had been unanimously rejected by the
rest of the group, had been inserted by his brother Di before Di published it.
<p>
We've covered technical reasons for objecting to those in the section above;
we also believe that there are significant process and fair play problems with 
this outcome.  We documented those in a 
<a href="BoardLetter.pdf">letter to the NMRA Board</a>
but it was to no avail:  The Board accepted a deeply flawed recommendation by Di Voss
in his role as Standards and Conformance Department Manager, choosing to overlook a 
conflict of interest that was clearly unfair and 
explicitly forbidden by the 
<a href="http://www.nmra.org/national/nmra/Modified%20EHB%20Revised%2010-29-2010.pdf">NMRA's own manual of procedures</a>
(see section C 4.1).
<p>
And they wonder why it's hard to find volunteers...

<H3 CLASS="western">Conclusion</H3>
<P>From this experience, we conclude that there is little point in
trying to align the OpenLCB efforts with the NMRA's process for
developing NMRAnet Standards. We may revisit this decision later on,
but for now, we wish the NMRA luck in its efforts, 
and we remind the model railroading community that OpenLCB actually
works.</P>
<P STYLE="margin-bottom: 0cm">There are some specific points in
conclusion:</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">The OpenLCB group will continue to
	do good work, developing useful capabilities in a professional
	manner. OpenLCB nodes will meet their performance specifications.</P>
	<LI><P STYLE="margin-bottom: 0cm">NMRAnet will be what it is,
	developed as the NMRA wants.</P>
	<LI><P STYLE="margin-bottom: 0cm">NMRAnet hardware will be able to
	run as OpenLCB nodes once suitable software is created. In that
	mode, they will meet OpenLCB performance expectations.</P>
	<LI><P STYLE="margin-bottom: 0cm">Hardware that conforms to the
	OpenLCB physical layer specification may or may not conform to the
	NMRA S9.5.1 Standard depending on choices by the designer. We expect
	that most custom-designed model railroad boards will. We expect that
	many commercial products that are usable as OpenLCB nodes will not
	conform to the NMRA S9.5.1 Standard due to driver and termination
	choices.</P>
</UL>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>