<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>OpenLCB for Hobbyists</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Unix)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
	<META NAME="CHANGED" CONTENT="20100706;20030300">
	<META NAME="CHANGEDBY" CONTENT="Bob Jacobsen">
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1><IMG SRC="../web/logo-ajs-dph.png" NAME="OpenLCB" ALIGN=RIGHT WIDTH=172 HEIGHT=71 BORDER=0>OpenLCB
for Hobbyists</H1>
<P>If you want to build your own OpenLCB nodes and play with them,
there are several ways to proceed.</P>
<P><SPAN STYLE="text-decoration: none">Generally, the <A HREF="http://arduino.cc/">Arduino
platform</A> is the easiest way to proceed. “Arduino” refers to a
family of open-source hardware based on the <A HREF="http://www.atmel.com/dyn/products/devices.asp?family_id=607">AVR</A>
processor. There's a basic <A HREF="http://arduino.cc/en/Guide/Environment">software
development tool kit</A> (IDE) that lets you easily and quickly
download your code into an Arduino board, and then debug it there.</SPAN></P>
<P><IMG SRC="http://siliconrailway.com/images/si2193_003.jpg" NAME="OpenLCB" ALIGN=RIGHT WIDTH=182 HEIGHT=182 BORDER=0><SPAN STYLE="text-decoration: none">You
can download software for a basic OpenLCB node from our <A HREF="http://sourceforge.net/scm/?type=svn&amp;group_id=286373">code
repository</A> and build it within the <A HREF="http://arduino.cc/en/Guide/Environment">Arduino
IDE</A>. You can basically run it on any <A HREF="http://www.arduino.cc/en/Main/Hardware">Arduino-compatible
board</A>, but to communicate with others you need to have Controller
Area Network (“CAN bus”) hardware attached. The usual chipset is
an <A HREF="http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en010405">MCP2551</A>
and <A HREF="http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en010406">MCP2515</A>
from <A HREF="http://microchip.com/">MicroChip.com</A>. <A HREF="http://siliconrailway.com/">LEDuino
boards</A> have this already present, or you can put together a CAN
controller on a prototype board from the <A HREF="http://siliconrailway.com/images/schematics/EP2193-1002-2.pdf">schematic</A>.
</SPAN>
</P>
<P><SPAN STYLE="text-decoration: none">Once you've got the basic
communications working, you can connect your OpenLCB board via
<a href="http://arduino.cc/en/Tutorial/HomePage">digital and analog input and output leads</a>, 
<a href="http://principialabs.com/arduino-serial-servo-control/">servo</a> or 
<a href="http://www.ladyada.net/make/mshield/index.html">motor drivers</a>,
<a href="http://arduino.cc/en/Main/ArduinoXbeeShield">XBee radio links<a/>,
<a href="http://www.ladyada.net/learn/lcd/charlcd.html">LCD display drivers</a>, 
or lots of other methods.  
There's a large community of Arduino hobbyists who are 
<a href="http://www.dave-auld.net/index.php?view=category&id=53%3Aarduino-input-output-basics&option=com_content&Itemid=107">connecting all sorts of devices</a>.</SPAN></P>
<P><SPAN STYLE="text-decoration: none">
The easiest way to connect OpenLCB to hardware is through consuming and producing events.
For example, here's the code that takes events detected by the basic software and 
uses them to drive a servo output to one of three positions:
<CODE><PRE>
  // Invoked when an event is consumed.
  // "index" is the index of the consumed event, 0 to 2
  if (index == 0) {
    servo9.write(0);
  } else if (index == 1) {
    servo9.write(90);
  } else if (index == 2) {
    servo9.write(180);
  }
</PRE></CODE>
<BR>
This, along with some glue code, is compiled with the basic OpenLCB libraries 
in the Arduino IDE, and then downloaded into your board.
See the 
<a href="C/OlcbServoNode/">OlcbServoNode</a> 
sketch for the complete example.
</SPAN>
</P>
<HR>
<P>Site hosted by <FONT COLOR="#000080">
<A HREF="http://sourceforge.net/projects/openlcb"><FONT COLOR="#000080"><IMG SRC="http://sflogo.sourceforge.net/sflogo.php?group_id=286373&amp;type=13" NAME="graphics1" ALIGN=ABSMIDDLE WIDTH=120 HEIGHT=30 BORDER=2></FONT></A></FONT>
</P>
<P>This is SVN $Revision$ 
</P>
</BODY>
</HTML>